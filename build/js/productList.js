var l=(m,e,t)=>new Promise((a,r)=>{var i=s=>{try{c(t.next(s))}catch(n){r(n)}},o=s=>{try{c(t.throw(s))}catch(n){r(n)}},c=s=>s.done?a(s.value):Promise.resolve(s.value).then(i,o);c((t=t.apply(m,e)).next())});import{renderListWithTemplate as d}from"./utils.js";export default class h{constructor(e,t,a){this.category=e,this.productData=t,this.listElement=a,this.products={}}init(e){return l(this,null,function*(){this.products=yield this.productData.getData(this.category),this.renderList(this.products,e,this.listElement,this.category)})}filterProducts(e,t){return l(this,null,function*(){return e.filter(a=>t(a))})}prepareTemplate(e,t,a){const r=e,i=r.querySelector("a"),o=r.querySelector("img"),c=r.querySelector(".card__brand"),s=r.querySelector(".card__name"),n=r.querySelector(".product-card__price");return i.href=i.href+t.Id+`&category=${a}`,o.src=t.Images.PrimarySmall,o.alt=t.Name,c.textContent=t.Name,s.textContent=t.NameWithoutBrand,n.textContent=n.textContent+t.ListPrice,r}renderList(e,t,a,r){const i=document.querySelector(t);d(i,a,e,r,this.prepareTemplate)}}
