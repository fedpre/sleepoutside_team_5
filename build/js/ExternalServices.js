var s=(o,e,t)=>new Promise((n,c)=>{var u=r=>{try{i(t.next(r))}catch(d){c(d)}},h=r=>{try{i(t.throw(r))}catch(d){c(d)}},i=r=>r.done?n(r.value):Promise.resolve(r.value).then(u,h);i((t=t.apply(o,e)).next())});const p="http://server-nodejs.cit.byui.edu:3000/",y="http://server-nodejs.cit.byui.edu:3000/checkout",l="http://server-nodejs.cit.byui.edu:3000/login",f="http://server-nodejs.cit.byui.edu:3000/orders";function a(o){return s(this,null,function*(){const e=yield o.json();if(o.ok)return e;throw{name:"serviceError",message:e}})}export default class R{constructor(){}getData(e){return fetch(p+`products/search/${e}`).then(a).then(t=>t.Result)}findProductById(e,t){return s(this,null,function*(){const n=yield this.getData(t);return n.find(c=>c.Id===e)})}checkout(e){return s(this,null,function*(){let t=new Request(y,{body:e,method:"POST",headers:{"Content-Type":"application/json"}}),n=yield fetch(t);return a(n)})}loginRequest(e){return s(this,null,function*(){let t=new Request(l,{body:JSON.stringify(e),method:"POST",headers:{"Content-Type":"application/json"}});const n=yield fetch(t);return a(n)})}getOrders(e){return s(this,null,function*(){let t=new Request(f,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`}});const n=yield fetch(t);return a(n)})}}
